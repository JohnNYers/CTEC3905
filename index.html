<!DOCTYPE html>
<html>

<head>
  <link rel="stylesheet" href="styles/mobile-diagram.css">
  <!--link rel="stylesheet" href="styles/diagram.css"-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

</head>

<body>
  <header>
    <h1>Weather Maulburg</h1>
  </header>
  <section class="diagram">
    <nav id="dd">
      <span id="dd-value">Temperature</span>
      <ul>
        <li class="dd-select">Temperature</li>
        <li>Light</li>
        <li>Pressure</li>
        <li>Gamma</li>
        <li>Wind</li>
        <li>Humidity</li>
        <li>Battery</li>
      </ul>
      <div class="switcher">
        3D
      </div>
    </nav>

    <figure>
      <svg id="diagram2d" class="chart active" viewBox="0 0 1000 800">
        <line class="axis" x1="75" y1="75" x2="75" y2="675" />
        <line class="axis" x1="75" y1="675" x2="950" y2="675" />
        <g id="x-labels" class="label"></g>
        <g id="y-labels" class="label"></g>
        <text x="75" y="55" id="unit">hPa</text>
        <g>
          <polyline id="diagram-area" points="">
            <animate begin="indefinite" attributeName="points" dur=".2s" to="" repeatCount="1" fill="freeze"></animate>
          </polyline>
          <polyline id="diagram-path" points="">
            <animate begin="indefinite" attributeName="points" dur=".2s" to="" repeatCount="1" fill="freeze"></animate>
          </polyline>
        </g>
      </svg>

      <canvas id="diagram3d" class="chart" width="300" height="300"></canvas>
    </figure>
  </section>
  <section class="latest-data">
    <h2>latest data
      <time id="last-time"></time>
    </h2>
    <article id="pressure">

      <h3>
        <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" viewBox="0 0 1562 1873">
<g>          <path d="M0 781q0-159 62-304t167-249T478.5 62 781 0q159 0 303.5 62t249 166.5 166.5 249 62 303.5q0 259-153.5 462.5T1013 1522v351H561v-347q-247-72-404-278T0 781zm172 0q0 248 180 426 178 179 429 179 165 0 305.5-81t222.5-220.5 82-303.5q0-123-48.5-235.5t-130.5-194-195-130T781 173t-235.5 48.5-194.5 130-130.5 194T172 781zm62 38v-77h231v77H234zm116-377l56-55 162 162-55 56zm270 526q0-67 46.5-116T780 801l291-479 70 37-215 515q28 40 28 94 0 70-49 118.5T786 1135q-69 0-117.5-48.5T620 968zm140-498V239h74v231h-74zm313 348v-79h231v79h-231z"/>
          </g>
        </svg>
        <span>PRESSURE</span>
      </h3>
      <div> <span class="value"></span> <span>hPa</span></div>
    </article>
    <article id="temperature">
      <h3>
        <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" viewBox="0 0 1086 2357">
<g>
  <path d="M0 1814q0-136 63-253.5T239 1364V306q0-128 88-217T543 0q129 0 217.5 89T849 306v1058q113 79 175 196.5t62 253.5q0 148-72.5 273T816 2284.5 543 2357q-147 0-272-72.5T73 2087 0 1814zm187 0q0 149 104.5 254.5T543 2174q149 0 256.5-107T907 1814q0-100-51.5-184.5T715 1498l-30-15q-16-7-16-31V306q0-52-36-86t-90-34q-52 0-88.5 34T418 306v1146q0 24-15 31l-29 15q-88 47-137.5 131T187 1814zm83 0q0 114 78 194t188 80 191-80.5 81-193.5q0-101-69.5-178T570 1545V762q0-10-10.5-20.5T536 731q-14 0-22.5 9t-8.5 22v783q-98 14-166.5 91T270 1814z"/>
  </g>
</svg>
        <span>TEMPERATURE</span>
      </h3>
      <div> <span class="value"></span> <span>°C</span></div>
    </article>
    <article id="light">
      <h3>
        <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" viewBox="0 0 1500.666748046875 1984">
<g>
 <path d="M0 1984h42L776 898q15-29-16-29H457l319-581q14-29-21-29H349q-17 0-31 19L22 1067q-4 29 20 29h293zm907-675h29l557-818q8-13 4-21t-18-8h-224l233-430q19-32-19-32h-292q-21 0-32 20L923 605q-5 14 1 22t20 8h218z"/>
  </g>
</svg>
        <span>LIGHT</span>
      </h3>
      <div> <span class="value"></span> <span>lux</span></div>
    </article>
    <article id="gamma">
      <h3>
        <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" viewBox="0 0 2080 2028.333251953125">
<g>
  <path d="M0 1121.333q0 25 18 42.5t43 17.5h318q23 0 40-14t21-36l96-562 173 1406q4 23 20.5 38t38.5 15q24 0 41-15t21-38l133-1032 111 299q6 18 21.5 29t34.5 11h5q19-1 34.5-14t20.5-33l163-732 76 1406q1 23 16 39.5t38 18.5 41-11 23-35l176-740h296q25 0 43-17.5t18-42.5-18-43-43-18h-344q-21 0-37.5 13t-21.5 33l-89 378-77-1426q-1-23-17-39.5t-38-17.5q-23-2-41.5 11.5t-23.5 36.5l-213 957-124-337q-7-19-25.5-30t-38.5-9q-21 2-35.5 17t-18.5 36l-105 801-163-1339q-4-23-20-37.5t-38-15.5q-23-1-40.5 13t-21.5 37l-158 918H61q-25 0-43 18t-18 43z"/>
  </g>
</svg>

        <span>GAMMA</span>
      </h3>
      <div> <span class="value"></span> <span>µSv/h</span></div>
    </article>
    <article id="humidity">
      <h3>
        <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" viewBox="0 0 1580 2040">
<g>
  <path d="M0 1252q0-141 77-323.5T275 575Q525 245 708 77l80-77q40 42 88 77 66 67 201 222.5T1308 582q114 162 193 346.5t79 323.5q0 160-62 305.5T1350.5 1809 1098 1977.5 788 2040q-160 0-305.5-60.5t-251.5-165-168.5-251T0 1252zm241-313q0 133 56 212t170 79q115 0 171.5-78.5T696 939q-1-134-57.5-213T467 647q-114 0-170 79t-56 213zm168 0q0-24 .5-37t2-35 5-34.5 9.5-26 16.5-19.5 24.5-6q22 0 35 13t18.5 41 6.5 48 1 56-1 55.5-6.5 47.5-18.5 41-35 13q-14 0-24.5-6t-16.5-19.5-9.5-26-5-34.5-2-34.5-.5-36.5zm62 827h141l532-1146h-144zm459-319q2 134 58.5 213t170.5 79q115 0 170.5-78.5T1386 1447q-1-134-56.5-212.5T1159 1156q-114 0-170.5 78.5T930 1447zm168 0q0-36 1-55.5t6.5-47.5 18.5-41 35-13q15 0 25.5 6t17 20 10.5 25.5 5 34.5l1.5 34.5.5 36.5q0 26-.5 37.5l-1.5 34.5-5 34.5-10.5 25.5-17 20-25.5 6q-22 0-35-13t-18.5-41-6.5-48-1-56z"/>
  </g>
</svg>
        <span>HUMIDITY</span>
      </h3>
      <div> <span class="value"></span> <span>%</span></div>
    </article>
    <article id="windd">
      <h3>
        <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" viewBox="0 0 1537 1537">
<g>
  <path d="M0 770q0-209 103.5-386.5T384 103 769 0q156 0 298 61t245 164 164 245.5 61 299.5q0 156-61 298.5t-164 245-245 163-298 60.5q-157 0-299.5-61T224 1312 60.5 1067.5 0 770zm169 0q0 243 177 422 177 177 423 177 162 0 300-80.5t219-218.5 81-300-81-300.5-219-219T769 170t-300 80.5-219 219T169 770zm334 399l256-895q1-10 10-10t10 10l255 895q4 11-1.5 17t-16.5 0l-237-89q-10-4-20 0l-239 89q-10 6-14.5 0t-2.5-17z"/>
  </g>
</svg>
        <span>WIND DIRECTION</span>
      </h3>
      <div>
        <span class="value"></span>
        <span>°</span></div>

    </article>
    <article id="windv">
      <h3>
        <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" viewBox="0 0 2539 1539">
<g>
  <path d="M0 1007q0 39 30 66 26 30 67 30h1567q46 0 78 32t32 79q0 46-31.5 76.5T1664 1321t-78-31q-26-28-64-28-40 0-68.5 27.5T1425 1355q0 40 30 67 90 88 209 88 125 0 214-86t89-210-89.5-213.5T1664 911H97q-40 0-68.5 28T0 1007zm0-350q0 37 30 65 28 28 67 28h2138q125 0 214.5-87t89.5-210q0-124-89.5-212T2235 153q-123 0-208 85-29 26-29 71 0 41 27.5 67t67.5 26q39 0 67-26 30-33 75-33 46 0 77.5 32t31.5 78-31.5 77-77.5 31H97q-40 0-68.5 28T0 657z"/>
  </g>
</svg>
        <span>WIND VELOCITY</span>
      </h3>
      <div> <span class="value"></span> <span>km/h</span></div>
    </article>
    <article id="battery">
      <h3>
        <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" viewBox="0 0 37.06 37.06">
<g>
  <path d="M6.296 8.535L.619 2.858A1.584 1.584 0 0 1 2.858.618l5.677 5.678c4.34-3.255 10.527-2.908 14.475 1.04L7.336 23.01C3.388 19.062 3.04 12.876 6.296 8.535zm23.432 5.52c3.948 3.947 4.295 10.133 1.04 14.474l5.677 5.677a1.584 1.584 0 1 1-2.24 2.24l-5.676-5.678c-4.341 3.255-10.527 2.908-14.475-1.04l3.358-3.359-2.8-2.799a2.376 2.376 0 1 1 3.36-3.359l2.799 2.8 2.24-2.24-2.8-2.799a2.375 2.375 0 1 1 3.36-3.358l2.798 2.798 3.359-3.358z"/>
  </g>
</svg>
        <span>BATTERY</span>
      </h3>
      <div> <span class="value"></span> <span>V</span></div>
    </article>
  </section>
  <section class="max-val">
    <h2>Extreme values</h2>
    <table id="max-val-table">
      <tr>
        <th>Value</th>
        <th>Maximum</th>
        <th>Minimum</th>
        <th>Average</th>
      </tr>

    </table>
  </section>
  <section class="history">
    <h2>History</h2>
    <article>
      <header>
        <h3>Instruments</h3>
        <time>Oct 2016</time>
      </header>

      <dl>
        <dt>Pressure</dt>
        <dd>
          Cerabar S PMC71 (E+H)
        </dd>
        <dt>Temperature</dt>
        <dd>
          TMR31 (E+H)
        </dd>
        <dt>Light</dt>
        <dd>
          OPT3001 (Texas Instruments)
        </dd>
        <dt>Gamma</dt>
        <dd>
          FTG20 (E+H)
        </dd>
        <dt>Humidity</dt>
        <dd>
          HIH-4000 (Honeywell)
        </dd>
        <dt>Wind</dt>
        <dd>
          PCE-FST- 200-201 (PCE-Instrument)
        </dd>
      </dl>
    </article>
    <article>
      <header>
        <h3>Electronics</h3>
        <time>Nov 2016</time>
      </header>

      <ul>
        <li>Power supply</li>
        <li>Amplifier</li>
        <li>Counter</li>
        <li>ADC</li>
        <li>RTC</li>
      </ul>
      <img src="images/electronics-800.jpg" alt="circuit board"/>
    </article>
    <article>
      <header>
        <h3>IT</h3>
        <time>Dec 2016</time>
      </header>

      <ul>
        <li>ATtiny44A</li>
        <li>Arduino+WiFi Shield</li>
        <li>Backend</li>
        <li>Frontend</li>
      </ul>
    </article>
    <article>
      <header>
        <h3>Website</h3>
        <time>Dec 2017</time>
      </header>

      <p>
        As part of the module CTEC3905 at DMU this website was developed.
      </p>
    </article>
    <article class="finised">
      <img src="images/finished-800.jpg" alt="finished weather station"/>
    </article>
  </section>
  
  <script id="vshader" type="x-shader/x-vertex">
    precision mediump float; attribute vec3 a_position; attribute vec4 a_color; uniform mat4 rot_matrix; uniform mat4 proj_matrix; varying vec4 vColor; void main() { gl_Position = proj_matrix * rot_matrix * vec4(a_position, 1.0); vColor = a_color; gl_PointSize = 5.0; }
  </script>
  <script id="fshader" type="x-shader/x-fragment">
    precision mediump float; varying vec4 vColor; void main() { gl_FragColor = vColor; }
  </script>


  <script src="js/json.js"></script>
  <script src="js/mobile-select.js"></script>
  <script src="js/3d-diagram.js"></script>
  <script src="js/2d-diagram.js"></script>
  <script src="js/data.js"></script>


  <script src="js/diagram-handler.js"></script>
</body>

</html>
